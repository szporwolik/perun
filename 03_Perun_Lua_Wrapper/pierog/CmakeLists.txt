cmake_minimum_required(VERSION 3.17)
project(pierog)

set(CMAKE_CXX_STANDARD 20)

set(PIEROG_DLL_SOURCES
        "src/library.h"
        "src/library.cpp"
        src/RotatingFileOutput.cpp
        src/SocketOutput.cpp
        src/DataDistributor.cpp
        src/RotatingFileOutput.h
        src/SocketOutput.h
        src/DataDistributor.h)

include(GenerateExportHeader)
add_library(pierog SHARED ${PIEROG_DLL_SOURCES})

target_link_libraries(
        pierog
        lua-5.1.5
        ws2_32
)

target_include_directories(pierog PUBLIC ${PIEROG_DLL_SOURCES})